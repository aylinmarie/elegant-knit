{"ast":null,"code":"var _jsxFileName = \"/Users/aylinmcginnis/Sites/chic-knits/src/Gallery.js\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useState } from 'react';\nimport axios from \"axios\";\nimport stylesheet from './Gallery.module.css';\nimport Checkbox from './components/Checkbox';\nimport Masonry, { ResponsiveMasonry } from 'react-responsive-masonry';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Gallery = () => {\n  _s();\n\n  const [items, setItems] = useState([]);\n  const [filterBy, setFilterBy] = useState([]);\n  const [error, setError] = useState(null);\n  let DESIGNERS = []; // Set filter for creators\n\n  items ? DESIGNERS.push(items.map(item => item.favorited.designer.name)) : DESIGNERS = [];\n  const CREATORS = [...new Set(DESIGNERS[0])];\n\n  const updateFilter = item => {\n    if (filterBy.includes(item)) {\n      setFilterBy(prevValues => prevValues.filter(v => v !== item));\n    } else {\n      setFilterBy(prevValues => [...prevValues, item]);\n    }\n  };\n\n  const FILTERED_ITEMS = filterBy.length === 0 ? items : items.filter(item => filterBy.includes(item.favorited.designer.name)); // Fetch data\n\n  useEffect(() => {\n    axios.get(\"/data\").then((response, error) => {\n      setItems(response.data.favorites);\n    }).catch(error => {\n      setError(error);\n    });\n  }, []); // If data cannot be retrieved, return error message\n\n  if (error) {\n    return error;\n  } // Return patterns\n\n\n  return items && /*#__PURE__*/_jsxDEV(\"div\", {\n    className: stylesheet.wrapper,\n    children: [/*#__PURE__*/_jsxDEV(\"fieldset\", {\n      className: stylesheet.filter,\n      children: [/*#__PURE__*/_jsxDEV(\"legend\", {\n        children: \"Creators\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 9\n      }, this), CREATORS.map(creator => {\n        return /*#__PURE__*/_jsxDEV(Checkbox, {\n          label: creator,\n          value: filterBy.includes(creator),\n          onChange: () => updateFilter(creator)\n        }, creator, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 20\n        }, this);\n      })]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"visuallyHidden\",\n      children: \"Gallery of Knit Patterns\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ResponsiveMasonry, {\n      columnsCountBreakPoints: {\n        350: 1,\n        750: 2,\n        900: 3\n      },\n      children: /*#__PURE__*/_jsxDEV(Masonry, {\n        gutter: \"24px\",\n        children: FILTERED_ITEMS.map(item => {\n          return item.type === 'pattern' && /*#__PURE__*/_jsxDEV(\"a\", {\n            href: `https://www.ravelry.com/patterns/library/${item.favorited.permalink}`,\n            target: \"_blank\",\n            rel: \"noreferrer\",\n            className: stylesheet.link,\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: stylesheet.card,\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                src: item.favorited.first_photo.medium2_url,\n                alt: \"\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 63,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  children: item.favorited.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 65,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: stylesheet.designer,\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"visuallyHidden\",\n                    children: \"Designer: \"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 67,\n                    columnNumber: 23\n                  }, this), item.favorited.designer.name]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 66,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 64,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 62,\n              columnNumber: 17\n            }, this)\n          }, item.favorited.name, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 15\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Gallery, \"ItCxHQay5gB/+/Vrp7V0kXs4AP8=\");\n\n_c = Gallery;\nexport default Gallery;\n\nvar _c;\n\n$RefreshReg$(_c, \"Gallery\");","map":{"version":3,"sources":["/Users/aylinmcginnis/Sites/chic-knits/src/Gallery.js"],"names":["useEffect","useState","axios","stylesheet","Checkbox","Masonry","ResponsiveMasonry","Gallery","items","setItems","filterBy","setFilterBy","error","setError","DESIGNERS","push","map","item","favorited","designer","name","CREATORS","Set","updateFilter","includes","prevValues","filter","v","FILTERED_ITEMS","length","get","then","response","data","favorites","catch","wrapper","creator","type","permalink","link","card","first_photo","medium2_url"],"mappings":"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","sourcesContent":["import { useEffect, useState } from 'react';\nimport axios from \"axios\";\n\nimport stylesheet from './Gallery.module.css';\nimport Checkbox from './components/Checkbox';\n\nimport Masonry, { ResponsiveMasonry } from 'react-responsive-masonry';\n\nconst Gallery = () => {\n  const [ items, setItems ] = useState([]); \n  const [ filterBy, setFilterBy ] = useState([]);\n  const [ error, setError ] = useState(null);\n  let DESIGNERS = []\n  \n  // Set filter for creators\n  items ? DESIGNERS.push(items.map(item => item.favorited.designer.name)) : DESIGNERS = []\n\n  const CREATORS = [...new Set(DESIGNERS[0])];\n\n  const updateFilter = (item) => {\n    if(filterBy.includes(item)) {\n      setFilterBy((prevValues) => prevValues.filter((v) => v !== item));\n    } else {\n      setFilterBy((prevValues) => [...prevValues, item]);\n    }\n  }\n  const FILTERED_ITEMS = filterBy.length === 0 ? items : items.filter(item => filterBy.includes(item.favorited.designer.name));\n\n  // Fetch data\n  useEffect(() => {\n    axios.get(\"/data\").then((response, error) => {\n      setItems(response.data.favorites)\n    }).catch(error => {\n      setError(error);\n    });\n  }, []);\n\n  // If data cannot be retrieved, return error message\n  if (error) { return error } \n\n  // Return patterns\n  return items && (\n    <div className={stylesheet.wrapper}>\n      <fieldset className={stylesheet.filter}>\n        <legend>Creators</legend>\n          {CREATORS.map(creator => {\n            return <Checkbox key={creator} label={creator} value={filterBy.includes(creator)} onChange={() => updateFilter(creator)}/>\n            })}\n      </fieldset>\n      <h2 className=\"visuallyHidden\">Gallery of Knit Patterns</h2>\n      <ResponsiveMasonry\n        columnsCountBreakPoints={{ 350: 1, 750: 2, 900: 3 }}\n      >\n        <Masonry gutter=\"24px\">\n          {FILTERED_ITEMS.map(item => {\n            return item.type === 'pattern' && (\n              <a key={item.favorited.name} \n                href={`https://www.ravelry.com/patterns/library/${item.favorited.permalink}`}\n                target=\"_blank\" \n                rel=\"noreferrer\"\n                className={stylesheet.link}>\n                <div className={stylesheet.card}>\n                  <img src={item.favorited.first_photo.medium2_url} alt=\"\"/>\n                  <div>\n                    <p>{item.favorited.name}</p>\n                    <p className={stylesheet.designer}>\n                      <span className=\"visuallyHidden\">Designer: </span>\n                      {item.favorited.designer.name}\n                    </p>\n                  </div>\n                </div>\n              </a>\n            )\n          })}\n        </Masonry>\n      </ResponsiveMasonry>\n    </div>\n  )\n}\n\nexport default Gallery;\n"]},"metadata":{},"sourceType":"module"}